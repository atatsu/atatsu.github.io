<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Giblets Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Giblets</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/giblets.html">giblets</a></li>
  <li><a href="../modules/giblets.gizmos.html">giblets.gizmos</a></li>
  <li><strong>giblets.gizmos.diskusage</strong></li>
  <li><a href="../modules/giblets.utils.html">giblets.utils</a></li>
  <li><a href="../modules/giblets.utils.leaf.html">giblets.utils.leaf</a></li>
  <li><a href="../modules/giblets.widgets.html">giblets.widgets</a></li>
  <li><a href="../modules/giblets.widgets.progressbar.html">giblets.widgets.progressbar</a></li>
</ul>
<h2>Examples</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../examples/diskusage.lua.html">diskusage.lua</a></li>
  <li><a href="../examples/leaf.lua.html">leaf.lua</a></li>
  <li><a href="../examples/progressbar.lua.html">progressbar.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>giblets.gizmos.diskusage</code></h1>
<p>DiskUsage gizmo.</p>
<p> Displays an icon that when clicked shows a floating wibox populated with a
 configurable set of mount points and their usage stats. The icon itself is
 a <code>wibox.widget</code> so all the standard functions are available.</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2015 Nathan Lundquist</li>
        <li><strong>Author</strong>: Nathan Lundquist (atatsu)</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#DiskUsage.new">DiskUsage.new (icon, mounts[, opts])</a></td>
	<td class="summary">Create a new diskusage gizmo.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:hide">DiskUsage:hide ()</a></td>
	<td class="summary">Hide the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:refresh">DiskUsage:refresh ()</a></td>
	<td class="summary">Refreshes the mount point stats.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_background_color">DiskUsage:set_background_color (color)</a></td>
	<td class="summary">Set the background color of the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_border_color">DiskUsage:set_border_color ([color="#000000"])</a></td>
	<td class="summary">Set the border color of the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_border_width">DiskUsage:set_border_width ([width=0])</a></td>
	<td class="summary">Set the border width of the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_foreground_color">DiskUsage:set_foreground_color (color)</a></td>
	<td class="summary">Set the foreground color of the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_progressbar">DiskUsage:set_progressbar ([progressbar=giblets.widgets.progressbar])</a></td>
	<td class="summary">Set the type of progressbar that gets used for representing the use % of the mount point.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_stats_format">DiskUsage:set_stats_format ([format="$1 -- $4 free of $2])</a></td>
	<td class="summary">Set the format of the stats text display.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:set_width">DiskUsage:set_width ([width=400])</a></td>
	<td class="summary">Set the width of the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:show">DiskUsage:show ()</a></td>
	<td class="summary">Show the diskusage window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:toggle">DiskUsage:toggle ()</a></td>
	<td class="summary">Show the diskusage window if it is hidden, or hide it if it is shown.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#DiskUsage:tune_progressbars">DiskUsage:tune_progressbars (callback)</a></td>
	<td class="summary">Allows you to tweak the properties of the diskusage progressbars.</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#opts">opts</a></td>
	<td class="summary">DiskUsage options.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "DiskUsage.new"></a>
    <strong>DiskUsage.new (icon, mounts[, opts])</strong>
    </dt>
    <dd>
    Create a new diskusage gizmo.

    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">icon</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a> or <span class="type">cairoimage</span></span>
         Either the path to an image file or a cairo image surface.
        </li>
        <li><span class="parameter">mounts</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         A table of tables containing the keys <code>mount</code> and <code>label</code>, with
   <code>label</code> being optional. If no <code>label</code> is supplied the mount point itself will be
   used. For instance,
   <code>{{mount = &quot;/home/me&quot;, label = &quot;home&quot;}, {mount = &quot;/var&quot;, label = &quot;var&quot;}}</code>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         Options for controlling the look of the diskusage gizmo. For a break
   down of all available options and their default values see <a href="../modules/giblets.gizmos.diskusage.html#opts">opts</a>. There are
   corresponding methods for each option, if you'd rather use those.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">DiskUsage</span></span>
        A new DiskUsage instance.
    </ol>

    <h3>Raises:</h3>

<ul>
    <li>'mounts' argument must be a table</li>
    <li>Invalid 'mounts' argument supplied</li>
    <li>Not a progressbar constructor</li>
</ul>


    <h3>See also:</h3>
    <ul>
         <a href="../examples/diskusage.lua.html#">diskusage.lua</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"> <span class="keyword">local</span> giblets = <span class="global">require</span>(<span class="string">"giblets"</span>)
 <span class="keyword">local</span> du = giblets.gizmos.diskusage(
  beautiful.du_icon,
  {{mount = <span class="string">"/home"</span>, label = <span class="string">"home"</span>}, {mount = <span class="string">"/var"</span>, label = <span class="string">"var"</span>}}
 )</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:hide"></a>
    <strong>DiskUsage:hide ()</strong>
    </dt>
    <dd>
    Hide the diskusage window.

    <h3>Signals:</h3>
    <ul>
         property::visible
    </ul>


    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:hide()</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:refresh"></a>
    <strong>DiskUsage:refresh ()</strong>
    </dt>
    <dd>
    Refreshes the mount point stats.

    </ul>


    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:refresh()</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_background_color"></a>
    <strong>DiskUsage:set_background_color (color)</strong>
    </dt>
    <dd>
    Set the background color of the diskusage window.
 Since the diskusage "window" is merely a wibox the background color will
 default to <code>bg_normal</code> if set in your theme file.

    <h3>Signals:</h3>
    <ul>
         property::background_color
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Background color of the diskusage window.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_background_color(<span class="string">"#222222"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_border_color"></a>
    <strong>DiskUsage:set_border_color ([color="#000000"])</strong>
    </dt>
    <dd>
    Set the border color of the diskusage window.

    <h3>Signals:</h3>
    <ul>
         property::border_color
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Color of the border.
         (<em>default</em> "#000000")
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_border_color(<span class="string">"#ff0000"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_border_width"></a>
    <strong>DiskUsage:set_border_width ([width=0])</strong>
    </dt>
    <dd>
    Set the border width of the diskusage window.

    <h3>Signals:</h3>
    <ul>
         property::border_width
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">width</span>
            <span class="types"><span class="type">int</span></span>
         Pixel width of the border.
         (<em>default</em> 0)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_border_width(<span class="number">2</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_foreground_color"></a>
    <strong>DiskUsage:set_foreground_color (color)</strong>
    </dt>
    <dd>
    Set the foreground color of the diskusage window.
 Since the diskusage "window" is merely a wibox the foreground color will
 default to <code>fg_normal</code> if set in your theme file.

    <h3>Signals:</h3>
    <ul>
         property::foreground_color
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Foreground color of the diskusage window.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_foreground_color(<span class="string">"ffffff"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_progressbar"></a>
    <strong>DiskUsage:set_progressbar ([progressbar=giblets.widgets.progressbar])</strong>
    </dt>
    <dd>
    Set the type of progressbar that gets used for representing the use % of the mount point.
 Remember this must be a progressbar constructor. Not an instantiated progressbar.

    <h3>Signals:</h3>
    <ul>
         property::progressbar
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">progressbar</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         The progressbar constructor supporting
   all functions provided by <code>awful.widget.progressbar</code>.
         (<em>default</em> giblets.widgets.progressbar)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>

    <h3>Raises:</h3>
    Not a progressbar constructor


    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_progressbar(awful.widget.progressbar)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_stats_format"></a>
    <strong>DiskUsage:set_stats_format ([format="$1 -- $4 free of $2])</strong>
    </dt>
    <dd>
    Set the format of the stats text display. <br/>
 The available replacement tokens and their corresponding stat is as follows:
   * <code>$1</code> - Mount point (or label if a label was specified
   * <code>$2</code> - Total size of the mount point
   * <code>$3</code> - Used amount of the mount point
   * <code>$4</code> - Available space remaining on the mount point

    <h3>Signals:</h3>
    <ul>
         property::stats_format
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">format</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Format string.
         (<em>default</em> "$1 -- $4 free of $2)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_stats_format(<span class="string">"$1 - $3/$2 ($4)"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:set_width"></a>
    <strong>DiskUsage:set_width ([width=400])</strong>
    </dt>
    <dd>
    Set the width of the diskusage window.

    <h3>Signals:</h3>
    <ul>
         property::width
    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">width</span>
            <span class="types"><span class="type">int</span></span>
         Pixel width of the diskusage window.
         (<em>default</em> 400)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:set_width(<span class="number">600</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:show"></a>
    <strong>DiskUsage:show ()</strong>
    </dt>
    <dd>
    Show the diskusage window.

    <h3>Signals:</h3>
    <ul>
         property::visible
    </ul>


    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:show()</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:toggle"></a>
    <strong>DiskUsage:toggle ()</strong>
    </dt>
    <dd>
    Show the diskusage window if it is hidden, or hide it if it is shown.

    <h3>Signals:</h3>
    <ul>
         property::visible
    </ul>


    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">du:toggle()</pre>
    </ul>

</dd>
    <dt>
    <a name = "DiskUsage:tune_progressbars"></a>
    <strong>DiskUsage:tune_progressbars (callback)</strong>
    </dt>
    <dd>
    Allows you to tweak the properties of the diskusage progressbars.
 Invokes the provided callback for every configured mount point, passing the
 progressbar and mount path, respectively.

    </ul>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">func</span></span>
         A callback function that the progressbar widget and mount path
   will be passed to. Callback signature: <code>function(progressbar, mount_path)</code>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The diskusage instance.
    </ol>

    <h3>Raises:</h3>
    'callback' must be a function


    <h3>Usage:</h3>
    <ul>
        <pre class="example"> du:tune_progressbars(<span class="keyword">function</span>(progressbar, mount_path)
   <span class="keyword">if</span> mount_path == <span class="string">"/home"</span> <span class="keyword">then</span>
     progressbar:set_background_color(<span class="string">"#ff0000"</span>)
   <span class="keyword">else</span>
     progressbar:set_background_color(<span class="string">"#000000"</span>)
   <span class="keyword">end</span>
 <span class="keyword">end</span>)</pre>
    </ul>

</dd>
</dl>
    <h2><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "opts"></a>
    <strong>opts</strong>
    </dt>
    <dd>
    DiskUsage options.

    </ul>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">width</span>
            <span class="types"><span class="type">int</span></span>
         Width of the diskusage window.
         (<em>default</em> 400)
        </li>
        <li><span class="parameter">progressbar</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
         The constructor for a progressbar widget
   supporting the functions provided by <code>awful.widget.progressbar</code>. This is used to represent
   the use % of the mount point.
         (<em>default</em> giblets.widgets.progressbar)
        </li>
        <li><span class="parameter">border_width</span>
            <span class="types"><span class="type">int</span></span>
         Sets the border width of the diskusage window.
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">border_color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Sets the color of the diskusage window border.
         (<em>default</em> "#000000")
        </li>
        <li><span class="parameter">background_color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Sets the background color of the diskusage window.
         (<em>optional</em>)
        </li>
        <li><span class="parameter">foreground_color</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Sets the foreground color of the diskusage window.
         (<em>optional</em>)
        </li>
        <li><span class="parameter">stats_format</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         Sets the format of the
   stats text display. The available replacement tokens and their corresponding
   stat is as follows:</p>

<ul>
    <li><code>$1</code> - Mount point (or label if a label was specified</li>
    <li><code>$2</code> - Total size of the mount point</li>
    <li><code>$3</code> - Used amount of the mount point</li>
    <li><code>$4</code> - Available space remaining on the mount point</li>
</ul>

<p>   (<em>default</em> "$1 -- $4 free of $2, $3 used")
         (<em>optional</em>)
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2015-01-21 21:37:39 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
